ORIGIN 0
SEGMENT
CodeSegment:	; Version 0.12  7/21/2014
	LEA R0, DataSegment
NOP
NOP
	LDR R1, R0, ZERO
	LDR R2, R0, ONETWELVE
	LDR R7, R0, ENT
NOP
NOP
	ADD R1, R2, R7
NOP
NOP
	ADD R3, R1, -4
NOP
NOP
	ADD R1, R1, R3
NOP
NOP
	ADD R1, R1, R1
NOP
NOP
	STR R1, R0, RES1
	LDR R1, R0, NINER
	LDR R2, R0, GECKO
NOP
NOP
	AND R6, R1, R2
NOP
NOP
	AND R5, R6, 10
NOP
NOP
	STR R5, R0, RES2
	LDR R7, R0, NOT6
NOP
NOP
	NOT R7, R7
NOP
NOP
	STR R7, R0, RES3
	LDR R1, R0, PAT1
NOP
NOP
	LSHF R2, R1, 4
	RSHFL R3, R1, 2
NOP
	LSHF R2, R2, 1
NOP
	RSHFL R3, R3, 1
NOP
NOP
	ADD R2, R2, R3
NOP
NOP
	ADD R2, R2, 1
	RSHFA R4, R1, 3
	LDR R1, R0, PAT2
NOP
NOP
	RSHFA R5, R1, 6
	STR R2, R0, RES4
	STR R4, R0, RES5
	STR R5, R0, RES6
	LEA R1, RES7
NOP
NOP
	STR R1, R0, RES8
	ADD R5, R5, 13
NOP
NOP
	STI R5, R0, RES8
	LDR R1, R0, TREE
	LDR R2, R0, THREE
	AND R3, R3, 0
NOP
loop1:	ADD R2, R2, 5
	ADD R1, R1, -1
	BRp loop1
NOP
NOP
NOP
loop2:	ADD R1, R1, 7
	ADD R2, R2, -6
	BRp loop2
NOP
NOP
NOP
	BRz loop1
NOP
NOP
NOP
	BRn miami
NOP
NOP
NOP
	LDR R2, R0, five
NOP
NOP
miami:	ADD R2, R2, R1
NOP
NOP
	STR R2, R0, RES8
	LDR R6, R0, ZERO
	JSR dallas
NOP
NOP
NOP
	STR R6, R0, RES9
	AND R5, R5, 13
	LEA R3, portland
NOP
NOP
	JMP R3
NOP
NOP
NOP
	LDR R5, R0, BADBAD
NOP
NOP
portland:
	STR R5, R0, RES10
	LDR R5, R0, BADBAD
	TRAP Bear
NOP
NOP
NOP
	STR R5, R0, RES11
	LEA R1, DataSegment
NOP
NOP
	ADD R1, R1, 1
NOP
NOP
	LDB R2, R0, PAT3
	LDB R3, R1, PAT3
NOP
NOP
	ADD R4, R3, R2
NOP
NOP
	STR R4, R0, RES12
	ADD R2, R2, 11
	ADD R3, R3, -2
	LEA R1, DataSegment2
NOP
NOP
		;the following STB instructions store to mem[RES13]
		;the offsets -7,-8 are used to overcome 6-bit signed offset limitation w/o creating a new Data Segment
	STB R2, R1, -7
	STB R3, R1, -8
	LDR R4, R0, RES13
NOP
NOP
	STR R4, R0, RES12
	LEA R3, TT
NOP
NOP
	STR R3, R0, RES15
NOP
NOP
	LDI R3, R0, RES15
NOP
NOP
	STR R3, R0, RES14
INF:
	BRnzp INF
NOP
NOP
NOP

dallas: NOT R6, R7
	RET
NOP
NOP
NOP

SEGMENT        DataSegment:
ZERO:	 DATA2 0
ONETWELVE:	 DATA2 112
ENT:	DATA2 10
NINER:	DATA2 9999
GECKO:	DATA2 42
NOT6:	DATA2 4xBAC8
THREE:	DATA2 7
TREE:	DATA2 3
BADBAD:	DATA2 4x0BAD
PAT1:	DATA2 4x0D0D
PAT2:	DATA2 4x9884
PAT3:	DATA2 4xAE85
GOOD:	DATA2 4x5460
five:	DATA2 5
TT:	DATA2 4x646
RES1:	DATA2 0;
RES2:	DATA2 0;
RES3:	DATA2 0;
RES4:	DATA2 0;
RES5:	DATA2 0
RES6:	DATA2 0;
RES7:	DATA2 0;
RES8:	DATA2 0;
RES9:	DATA2 0;
RES10:	DATA2 0;
RES11:	DATA2 0;
RES12:	DATA2 0;
RES13:	DATA2 0;
RES14:	DATA2 0;
RES15:	DATA2 0
RES16:	DATA2 0;
SEGMENT DataSegment2:
RES17:	DATA2 0
RES18:	DATA2 0
RES19:	DATA2 0
Bear:	DATA2 CatchMe
CatchMe:
	LDR R5, R0, PAT3
NOP
NOP
	NOT R5, R5
NOP
NOP
	RET
NOP
NOP
NOP

PRODUCT:DATA2 0
